<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>UHomeOS SDK 接口及适配说明: FOTA接口</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">UHomeOS SDK 接口及适配说明<span id="projectnumber">&#160;4.12.03</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__grp__uhsdfota.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#files">文件</a> &#124;
<a href="#nested-classes">结构体</a> &#124;
<a href="#typedef-members">类型定义</a> &#124;
<a href="#enum-members">枚举</a> &#124;
<a href="#func-members">函数</a>  </div>
  <div class="headertitle"><div class="title">FOTA接口</div></div>
</div><!--header-->
<div class="contents">

<p>FOTA功能  
<a href="#details">更多...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
文件</h2></td></tr>
<tr class="memitem:uhsd__ota_8h" id="r_uhsd__ota_8h"><td class="memItemLeft" align="right" valign="top">文件 &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uhsd__ota_8h.html">uhsd_ota.h</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
结构体</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__uhsd__ota__req__.html">_uhsd_ota_req_</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structuhsd__ota__version__qry__ack__t.html">uhsd_ota_version_qry_ack_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structuhsd__ota__evt__sec__firm__finish__t.html">uhsd_ota_evt_sec_firm_finish_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structuhsd__ota__evt__exception__t.html">uhsd_ota_evt_exception_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__uhsd__evt__.html">_uhsd_evt_</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__uhsd__operation__.html">_uhsd_operation_</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structuhsd__ota__online__whole__base__info.html">uhsd_ota_online_whole_base_info</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取整机包信息相关接口  <a href="structuhsd__ota__online__whole__base__info.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structuhsd__ota__online__whole__desc__info.html">uhsd_ota_online_whole_desc_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structuhsd__ota__online__sub__firm__info.html">uhsd_ota_online_sub_firm_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
类型定义</h2></td></tr>
<tr class="memitem:ga265299f927f910842f31c85f1cbb8bff" id="r_ga265299f927f910842f31c85f1cbb8bff"><td class="memItemLeft" align="right" valign="top"><a id="ga265299f927f910842f31c85f1cbb8bff" name="ga265299f927f910842f31c85f1cbb8bff"></a>
typedef struct <a class="el" href="struct__uhsd__ota__req__.html">_uhsd_ota_req_</a>&#160;</td><td class="memItemRight" valign="bottom"><b>uhsd_ota_evt_firm_info_t</b></td></tr>
<tr class="separator:ga265299f927f910842f31c85f1cbb8bff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3f5381408bf771fb60859331ff33050d" id="r_ga3f5381408bf771fb60859331ff33050d"><td class="memItemLeft" align="right" valign="top"><a id="ga3f5381408bf771fb60859331ff33050d" name="ga3f5381408bf771fb60859331ff33050d"></a>
typedef struct <a class="el" href="struct__uhsd__evt__.html">_uhsd_evt_</a>&#160;</td><td class="memItemRight" valign="bottom"><b>uhsd_evt_t</b></td></tr>
<tr class="separator:ga3f5381408bf771fb60859331ff33050d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2cd17ba27c5586e70f692b522b8814ed" id="r_ga2cd17ba27c5586e70f692b522b8814ed"><td class="memItemLeft" align="right" valign="top">typedef uhsd_s32(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__uhsdfota.html#ga2cd17ba27c5586e70f692b522b8814ed">uhsd_ota_evt_func_cb</a>) (const <a class="el" href="struct__uhsd__evt__.html">uhsd_evt_t</a> *evt, void *userdata)</td></tr>
<tr class="memdesc:ga2cd17ba27c5586e70f692b522b8814ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">函数指针，用户通过注册此函数获取OTA事件通知。  <br /></td></tr>
<tr class="separator:ga2cd17ba27c5586e70f692b522b8814ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1778f1ff36d16a3b71d265115015f858" id="r_ga1778f1ff36d16a3b71d265115015f858"><td class="memItemLeft" align="right" valign="top"><a id="ga1778f1ff36d16a3b71d265115015f858" name="ga1778f1ff36d16a3b71d265115015f858"></a>
typedef struct <a class="el" href="struct__uhsd__operation__.html">_uhsd_operation_</a>&#160;</td><td class="memItemRight" valign="bottom"><b>uhsd_ota_operation_t</b></td></tr>
<tr class="separator:ga1778f1ff36d16a3b71d265115015f858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8d0e5995c240931759c2598ba739f45e" id="r_ga8d0e5995c240931759c2598ba739f45e"><td class="memItemLeft" align="right" valign="top"><a id="ga8d0e5995c240931759c2598ba739f45e" name="ga8d0e5995c240931759c2598ba739f45e"></a>
typedef uhsd_void(*&#160;</td><td class="memItemRight" valign="bottom"><b>ota_version_qry_cb</b>) (uhsd_s32 err_num, <a class="el" href="structuhsd__ota__version__qry__ack__t.html">uhsd_ota_version_qry_ack_t</a> *qry_ack, uhsd_void *user_data)</td></tr>
<tr class="separator:ga8d0e5995c240931759c2598ba739f45e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac8637fda45ffe546e7747e22f5324b9d" id="r_gac8637fda45ffe546e7747e22f5324b9d"><td class="memItemLeft" align="right" valign="top"><a id="gac8637fda45ffe546e7747e22f5324b9d" name="gac8637fda45ffe546e7747e22f5324b9d"></a>
typedef struct <a class="el" href="structuhsd__ota__online__whole__base__info.html">uhsd_ota_online_whole_base_info</a>&#160;</td><td class="memItemRight" valign="bottom"><b>uhsd_ota_online_whole_base_info_t</b></td></tr>
<tr class="memdesc:gac8637fda45ffe546e7747e22f5324b9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取整机包信息相关接口 <br /></td></tr>
<tr class="separator:gac8637fda45ffe546e7747e22f5324b9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadc96f45272b81bf1cd1e4affa960a18a" id="r_gadc96f45272b81bf1cd1e4affa960a18a"><td class="memItemLeft" align="right" valign="top"><a id="gadc96f45272b81bf1cd1e4affa960a18a" name="gadc96f45272b81bf1cd1e4affa960a18a"></a>
typedef struct <a class="el" href="structuhsd__ota__online__whole__desc__info.html">uhsd_ota_online_whole_desc_info</a>&#160;</td><td class="memItemRight" valign="bottom"><b>uhsd_ota_online_whole_desc_info_t</b></td></tr>
<tr class="separator:gadc96f45272b81bf1cd1e4affa960a18a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0dedb558eb47761c8b1e894c3d6caab8" id="r_ga0dedb558eb47761c8b1e894c3d6caab8"><td class="memItemLeft" align="right" valign="top"><a id="ga0dedb558eb47761c8b1e894c3d6caab8" name="ga0dedb558eb47761c8b1e894c3d6caab8"></a>
typedef struct <a class="el" href="structuhsd__ota__online__sub__firm__info.html">uhsd_ota_online_sub_firm_info</a>&#160;</td><td class="memItemRight" valign="bottom"><b>uhsd_ota_online_sub_firm_info_t</b></td></tr>
<tr class="separator:ga0dedb558eb47761c8b1e894c3d6caab8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga84075716cc12921b4adfb23049c848e6" id="r_ga84075716cc12921b4adfb23049c848e6"><td class="memItemLeft" align="right" valign="top"><a id="ga84075716cc12921b4adfb23049c848e6" name="ga84075716cc12921b4adfb23049c848e6"></a>
typedef uhsd_s32(*&#160;</td><td class="memItemRight" valign="bottom"><b>uhsd_ota_download_progress_notify</b>) (uhsd_s32 progress)</td></tr>
<tr class="separator:ga84075716cc12921b4adfb23049c848e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafefe1c46aa8c1cffb0714f83bf8cc0e8" id="r_gafefe1c46aa8c1cffb0714f83bf8cc0e8"><td class="memItemLeft" align="right" valign="top"><a id="gafefe1c46aa8c1cffb0714f83bf8cc0e8" name="gafefe1c46aa8c1cffb0714f83bf8cc0e8"></a>
typedef uhsd_void(*&#160;</td><td class="memItemRight" valign="bottom"><b>ota_confirm_updae_cb</b>) (uhsd_s32 err_num, uhsd_void *user_data)</td></tr>
<tr class="separator:gafefe1c46aa8c1cffb0714f83bf8cc0e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
枚举</h2></td></tr>
<tr class="memitem:gad3414abad484d5592bb8a618c47d5e24" id="r_gad3414abad484d5592bb8a618c47d5e24"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__uhsdfota.html#gad3414abad484d5592bb8a618c47d5e24">UHSD_OTA_ERROR_E</a> { <br />
&#160;&#160;<a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24aac58ee6add1ee85d52dce69627d42b5b">UHSD_OTA_ERROR_OK</a> = 0
, <a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24aaf594a561149edc5e6641163d06ffbb6">UHSD_OTA_ERROR_OTHER</a> = 99
, <a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24a7e19b9dc81a62290efbecd4808af1d30">UHSD_OTA_ERROR_CONTENT_VALIDATION_FAILURE</a> = 106
, <a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24a70ded6ffb5f719020b362da13a3f4323">UHSD_OTA_ERROR_ILLEGAL_CONTENT</a> = 107
, <br />
&#160;&#160;<a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24a57800ad4b43e7544d03d054c77878111">UHSD_OTA_ERROR_ENTITY_TOO_LARGE</a> = 108
, <a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24a6b981c00d7ddfa8140d6d2ff3329cef3">UHSD_OTA_ERROR_RESOURCE_NOT_AVAILABLE</a> = 109
, <a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24a389945034fccb4839682853153558e8a">UHSD_OTA_ERROR_INCOMPLETE_CONTENT</a> = 110
, <a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24a618ca9d60384e280a007411280b568f1">UHSD_OTA_ERROR_DEVICE_BASEBOARD_UPGRADING</a> = 111
, <br />
&#160;&#160;<a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24aacb0d29694d74a2fcc87da39a0753696">UHSD_OTA_ERROR_DEVICE_BASEBORAD_NOT_IN_SERVICE</a> = 112
, <a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24ae24d6bae2b63cee00cb83a60233246b8">UHSD_OTA_ERROR_DEVICE_MODULE_UPGRADING</a> = 113
, <a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24a87a8e714c0858d52dcd55121569452fb">UHSD_OTA_ERROR_INVALID_UPGRADE_SN</a> = 114
, <a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24a7dd2c24d481de5a5d3f6f943161073c1">UHSD_OTA_ERROR_BOUNDARY</a> = 115
, <br />
&#160;&#160;<a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24ab1b48e6bb7af75ea07a96579dbc12a89">UHSD_OTA_ERROR_CURRENT_UPGRADING</a> = 116
, <a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24af9b7f69d09b4a95eedb72dbfe8611975">UHSD_OTA_ERROR_FRAGMENT_VALIDATION_FAILURE</a> = 117
, <a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24ae6ec7077b0f983dcfd301abddac0d6fe">UHSD_OTA_ERROR_BASEBOARD_FILE_SIZE</a> = 119
, <a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24ad3f7fedb2b5c7a05b28fb5651292610c">UHSD_OTA_ERROR_DIGEST_MISMATCH</a> = 120
, <br />
&#160;&#160;<a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24a2e318060e0ddfe80d86bb2de457e3509">UHSD_OTA_ERROR_UPDATE_TIMESUP</a> = 121
, <a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24a3ed0b40bdef9e603e582fb58f962c6ad">UHSD_OTA_ERROR_BASEBOARD_REJECT</a> = 122
, <a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24aec747a8252d07a6c97cfdbeeb0d05c69">UHSD_OTA_ERROR_BASEBOARD_FAIL</a> = 123
, <a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24a87f041d67bb74a316b57cc08ba3ef9ee">UHSD_OTA_ERROR_BLE_CONFIGING</a> = 124
, <br />
&#160;&#160;<a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24aa978f5da6052f75529b4793562a4ce82">UHSD_OTA_ERROR_DEVICE_RESOURCE_INSUFFICIENT</a> = 126
, <a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24afa76c97d8d80a704b9b465a9ec37e9ac">UHSD_OTA_ERROR_DEVICE_UPGRADE_TIMEOUT</a> = 127
, <a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24a4fc3d9b2614775c06102fcd7b648b5ed">UHSD_OTA_ERROR_DEVICE_LOW_BATTERY</a> = 128
, <a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24ac2f9a87a1d1052af91e25e9a83eb277f">UHSD_OTA_ERROR_INTERNAL_UPGRADE_VER_SAME</a> = -1
, <br />
&#160;&#160;<a class="el" href="group__grp__uhsdfota.html#ggad3414abad484d5592bb8a618c47d5e24a1213dbc9c63385d1fb266df4f502b1b0">UHSD_OTA_ERROR_INTERNAL_UPGRADE_VER_TOO_LOW</a> = -2
<br />
 }</td></tr>
<tr class="memdesc:gad3414abad484d5592bb8a618c47d5e24"><td class="mdescLeft">&#160;</td><td class="mdescRight">通用OTA错误码  <a href="group__grp__uhsdfota.html#gad3414abad484d5592bb8a618c47d5e24">更多...</a><br /></td></tr>
<tr class="separator:gad3414abad484d5592bb8a618c47d5e24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaced32dcd130535d859b824a7adc63505" id="r_gaced32dcd130535d859b824a7adc63505"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__uhsdfota.html#gaced32dcd130535d859b824a7adc63505">UHSD_OTA_PKG_SRC_E</a> { <a class="el" href="group__grp__uhsdfota.html#ggaced32dcd130535d859b824a7adc63505a06365e4827330a793be05c2b4c404fd0">UHSD_OTA_PKG_LOCAL</a> = 1
, <a class="el" href="group__grp__uhsdfota.html#ggaced32dcd130535d859b824a7adc63505a6de9070130afe0bfb002280a0f814977">UHSD_OTA_PKG_ONLINE</a>
, <b>UHSD_OTA_PKG_MAX</b>
 }</td></tr>
<tr class="memdesc:gaced32dcd130535d859b824a7adc63505"><td class="mdescLeft">&#160;</td><td class="mdescRight">包来源  <a href="group__grp__uhsdfota.html#gaced32dcd130535d859b824a7adc63505">更多...</a><br /></td></tr>
<tr class="separator:gaced32dcd130535d859b824a7adc63505"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6524ed12e57736caac0a20ff7bc20fa" id="r_gaf6524ed12e57736caac0a20ff7bc20fa"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__uhsdfota.html#gaf6524ed12e57736caac0a20ff7bc20fa">UHSD_OTA_UPGRADE_DST_E</a> { <a class="el" href="group__grp__uhsdfota.html#ggaf6524ed12e57736caac0a20ff7bc20faac3731db17607c6ae6e85bd3c44f1c2a2">UHSD_OTA_UPGRADE_DST_WHOLE</a> = 0
, <a class="el" href="group__grp__uhsdfota.html#ggaf6524ed12e57736caac0a20ff7bc20faa6eab9752265bf95eb160b427b316710c">UHSD_OTA_UPGRADE_DST_WIFI_MODULE</a>
, <a class="el" href="group__grp__uhsdfota.html#ggaf6524ed12e57736caac0a20ff7bc20faabf9fbb86936b0fd330595b97a7d0cdac">UHSD_OTA_UPGRADE_DST_VOICE</a>
 }</td></tr>
<tr class="memdesc:gaf6524ed12e57736caac0a20ff7bc20fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">升级包所对应的升级目标  <a href="group__grp__uhsdfota.html#gaf6524ed12e57736caac0a20ff7bc20fa">更多...</a><br /></td></tr>
<tr class="separator:gaf6524ed12e57736caac0a20ff7bc20fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga62ebe91278000bb7beee52d0cf367cce" id="r_ga62ebe91278000bb7beee52d0cf367cce"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__uhsdfota.html#ga62ebe91278000bb7beee52d0cf367cce">UHSD_OTA_EVT_E</a> { <br />
&#160;&#160;<a class="el" href="group__grp__uhsdfota.html#gga62ebe91278000bb7beee52d0cf367ccea72399ca41307a524294c4032cfca63fb">UHSD_OTA_EVT_REQ</a>
, <a class="el" href="group__grp__uhsdfota.html#gga62ebe91278000bb7beee52d0cf367ccea3bd1ca4204c19a6d9ca3a2b38801c68c">UHSD_OTA_EVT_FIRM_READY</a>
, <a class="el" href="group__grp__uhsdfota.html#gga62ebe91278000bb7beee52d0cf367ccea46fd904137f3957d73972663749e19cb">UHSD_OTA_EVT_SECTION_FIRM_DOWNLOAD_FINISH</a>
, <a class="el" href="group__grp__uhsdfota.html#gga62ebe91278000bb7beee52d0cf367ccea5f90750d9f4b6a39d15f70bd1d6148bc">UHSD_OTA_EVT_UPDATE_NEED_CONFIRM_FIRM</a>
, <br />
&#160;&#160;<a class="el" href="group__grp__uhsdfota.html#gga62ebe91278000bb7beee52d0cf367ccea6099429797288f34e891f9c536568cf1">UHSD_OTA_EVT_CONFIRM_FIRM_UPDATE_VALIID</a>
, <a class="el" href="group__grp__uhsdfota.html#gga62ebe91278000bb7beee52d0cf367ccea99f8d846f8fc431d9c0831cb97945879">UHSD_OTA_EVT_EXCEPTION_OCCURED</a>
<br />
 }</td></tr>
<tr class="memdesc:ga62ebe91278000bb7beee52d0cf367cce"><td class="mdescLeft">&#160;</td><td class="mdescRight">SmartDevice通知设备APP OTA事件。 SD_SDK =&gt; DEVAPP  <a href="group__grp__uhsdfota.html#ga62ebe91278000bb7beee52d0cf367cce">更多...</a><br /></td></tr>
<tr class="separator:ga62ebe91278000bb7beee52d0cf367cce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga112d41f6fec5bb519e1205f6ea1b0cd7" id="r_ga112d41f6fec5bb519e1205f6ea1b0cd7"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__uhsdfota.html#ga112d41f6fec5bb519e1205f6ea1b0cd7">UHSD_OTA_REQ_RESULT_E</a> { <a class="el" href="group__grp__uhsdfota.html#gga112d41f6fec5bb519e1205f6ea1b0cd7ab0871295502452575c9a3127210186b4">UHSD_OTA_REQ_RESULT_NOT_ALLOW</a>
, <a class="el" href="group__grp__uhsdfota.html#gga112d41f6fec5bb519e1205f6ea1b0cd7aa6a3374914f3280b2c089852ba145e75">UHSD_OTA_REQ_RESULT_LATER</a>
, <a class="el" href="group__grp__uhsdfota.html#gga112d41f6fec5bb519e1205f6ea1b0cd7aadcd7868d33981eab1f7dd15686f3e68">UHSD_OTA_REQ_RESULT_ALLOW</a>
 }</td></tr>
<tr class="memdesc:ga112d41f6fec5bb519e1205f6ea1b0cd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">请求结果通知类型。 uhsd_ota_notify_req_result_t  <a href="group__grp__uhsdfota.html#ga112d41f6fec5bb519e1205f6ea1b0cd7">更多...</a><br /></td></tr>
<tr class="separator:ga112d41f6fec5bb519e1205f6ea1b0cd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7beee17c9b1e741e7dcb4e9ce4e6bd4c" id="r_ga7beee17c9b1e741e7dcb4e9ce4e6bd4c"><td class="memItemLeft" align="right" valign="top"><a id="ga7beee17c9b1e741e7dcb4e9ce4e6bd4c" name="ga7beee17c9b1e741e7dcb4e9ce4e6bd4c"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__uhsdfota.html#ga7beee17c9b1e741e7dcb4e9ce4e6bd4c">UHSD_OTA_UPGRADE_STATUS_E</a> { <b>UHSD_OTA_UPGRADE_STATUS_IDLE_NO_DOWNLOAD</b> = 0x01
, <b>UHSD_OTA_UPGRADE_STATUS_IDLE_DOWNLOADING</b> = 0x02
, <b>UHSD_OTA_UPGRADE_STATUS_ALLOW</b> = 0x03
 }</td></tr>
<tr class="memdesc:ga7beee17c9b1e741e7dcb4e9ce4e6bd4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">ota升级状态定义 <br /></td></tr>
<tr class="separator:ga7beee17c9b1e741e7dcb4e9ce4e6bd4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:ga123b7631142cfaa8a4a30f533ac8627a" id="r_ga123b7631142cfaa8a4a30f533ac8627a"><td class="memItemLeft" align="right" valign="top">UHSD_API uhsd_s32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__uhsdfota.html#ga123b7631142cfaa8a4a30f533ac8627a">uhsd_ota_evt_register</a> (<a class="el" href="group__grp__uhsdfota.html#ga2cd17ba27c5586e70f692b522b8814ed">uhsd_ota_evt_func_cb</a> func_cb, void *userdata)</td></tr>
<tr class="memdesc:ga123b7631142cfaa8a4a30f533ac8627a"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA事件注册函数。  <br /></td></tr>
<tr class="separator:ga123b7631142cfaa8a4a30f533ac8627a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga12aff091947a0e1dedd0e4a49fce35b1" id="r_ga12aff091947a0e1dedd0e4a49fce35b1"><td class="memItemLeft" align="right" valign="top">UHSD_API uhsd_s32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__uhsdfota.html#ga12aff091947a0e1dedd0e4a49fce35b1">uhsd_ota_operation_set</a> (<a class="el" href="struct__uhsd__operation__.html">uhsd_ota_operation_t</a> opt, void *def_param)</td></tr>
<tr class="memdesc:ga12aff091947a0e1dedd0e4a49fce35b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">SmartDevice操作接口设置。  <br /></td></tr>
<tr class="separator:ga12aff091947a0e1dedd0e4a49fce35b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga53edfdbafdcbc68b6ce0fade34bcb9bb" id="r_ga53edfdbafdcbc68b6ce0fade34bcb9bb"><td class="memItemLeft" align="right" valign="top">UHSD_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__uhsdfota.html#ga53edfdbafdcbc68b6ce0fade34bcb9bb">uhsd_ota_notify_req_result</a> (<a class="el" href="group__grp__uhsdfota.html#ga112d41f6fec5bb519e1205f6ea1b0cd7">UHSD_OTA_REQ_RESULT_E</a> result)</td></tr>
<tr class="memdesc:ga53edfdbafdcbc68b6ce0fade34bcb9bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">通知SDK升级请求结果  <br /></td></tr>
<tr class="separator:ga53edfdbafdcbc68b6ce0fade34bcb9bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ca0d365e2643c32faec734d8f368ba9" id="r_ga2ca0d365e2643c32faec734d8f368ba9"><td class="memItemLeft" align="right" valign="top">UHSD_API uhsd_s32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__uhsdfota.html#ga2ca0d365e2643c32faec734d8f368ba9">uhsd_ota_version_qry</a> (ota_version_qry_cb qry, uhsd_void *user_data)</td></tr>
<tr class="memdesc:ga2ca0d365e2643c32faec734d8f368ba9"><td class="mdescLeft">&#160;</td><td class="mdescRight">查询可升级的版本信息  <br /></td></tr>
<tr class="separator:ga2ca0d365e2643c32faec734d8f368ba9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga575f0e53b5b59e8edb82896dcc5b8dae" id="r_ga575f0e53b5b59e8edb82896dcc5b8dae"><td class="memItemLeft" align="right" valign="top">UHSD_API uhsd_s32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__uhsdfota.html#ga575f0e53b5b59e8edb82896dcc5b8dae">uhsd_ota_notify_start</a> (uhsd_u32 upgrade_sn)</td></tr>
<tr class="memdesc:ga575f0e53b5b59e8edb82896dcc5b8dae"><td class="mdescLeft">&#160;</td><td class="mdescRight">通知SDK升级开始升级  <br /></td></tr>
<tr class="separator:ga575f0e53b5b59e8edb82896dcc5b8dae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad781326371528591a06259ccbda73112" id="r_gad781326371528591a06259ccbda73112"><td class="memItemLeft" align="right" valign="top">UHSD_API uhsd_s32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__uhsdfota.html#gad781326371528591a06259ccbda73112">uhsd_ota_download_section_firm</a> (uhsd_u32 upgrade_sn, uhsd_u32 offset, uhsd_u32 len)</td></tr>
<tr class="memdesc:gad781326371528591a06259ccbda73112"><td class="mdescLeft">&#160;</td><td class="mdescRight">分段固件下载  <br /></td></tr>
<tr class="separator:gad781326371528591a06259ccbda73112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga107f7a8d0211c5484b4560a42c76edb0" id="r_ga107f7a8d0211c5484b4560a42c76edb0"><td class="memItemLeft" align="right" valign="top">UHSD_API uhsd_s32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__uhsdfota.html#ga107f7a8d0211c5484b4560a42c76edb0">uhsd_ota_upgrade_status_rpt</a> (uhsd_u32 upgrade_sn, <a class="el" href="group__grp__uhsdfota.html#ga7beee17c9b1e741e7dcb4e9ce4e6bd4c">UHSD_OTA_UPGRADE_STATUS_E</a> status, uhsd_bool download_complete)</td></tr>
<tr class="memdesc:ga107f7a8d0211c5484b4560a42c76edb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">ota升级状态上报  <br /></td></tr>
<tr class="separator:ga107f7a8d0211c5484b4560a42c76edb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga18512ceecb4a2d6c207a626f04423dff" id="r_ga18512ceecb4a2d6c207a626f04423dff"><td class="memItemLeft" align="right" valign="top">UHSD_API uhsd_s32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__uhsdfota.html#ga18512ceecb4a2d6c207a626f04423dff">uhsd_ota_notify_stop</a> (uhsd_u32 upgrade_sn, uhsd_s32 error)</td></tr>
<tr class="memdesc:ga18512ceecb4a2d6c207a626f04423dff"><td class="mdescLeft">&#160;</td><td class="mdescRight">通知SDK结束整个升级流程  <br /></td></tr>
<tr class="separator:ga18512ceecb4a2d6c207a626f04423dff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga09220012cb6ba200dce2a922d5cd805d" id="r_ga09220012cb6ba200dce2a922d5cd805d"><td class="memItemLeft" align="right" valign="top">UHSD_API uhsd_s32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__uhsdfota.html#ga09220012cb6ba200dce2a922d5cd805d">uhsd_ota_get_online_whole_base_info</a> (uhsd_u8 *buff, uhsd_u16 len, <a class="el" href="group__grp__uhsdfota.html#gac8637fda45ffe546e7747e22f5324b9d">uhsd_ota_online_whole_base_info_t</a> *base_info)</td></tr>
<tr class="memdesc:ga09220012cb6ba200dce2a922d5cd805d"><td class="mdescLeft">&#160;</td><td class="mdescRight">在线打包格式包基本信息获取  <br /></td></tr>
<tr class="separator:ga09220012cb6ba200dce2a922d5cd805d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4499987ceafe09e91b99c36ab9bc57b6" id="r_ga4499987ceafe09e91b99c36ab9bc57b6"><td class="memItemLeft" align="right" valign="top">UHSD_API uhsd_s32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__uhsdfota.html#ga4499987ceafe09e91b99c36ab9bc57b6">uhsd_ota_get_online_whole_desc_info</a> (uhsd_u8 *buff, uhsd_u16 len, <a class="el" href="structuhsd__ota__online__whole__desc__info.html">uhsd_ota_online_whole_desc_info_t</a> *desc_info)</td></tr>
<tr class="memdesc:ga4499987ceafe09e91b99c36ab9bc57b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">在线打包格式固件描述信息  <br /></td></tr>
<tr class="separator:ga4499987ceafe09e91b99c36ab9bc57b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea30c00c19d3fe5910642323e9e0a695" id="r_gaea30c00c19d3fe5910642323e9e0a695"><td class="memItemLeft" align="right" valign="top">UHSD_API uhsd_s32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__uhsdfota.html#gaea30c00c19d3fe5910642323e9e0a695">uhsd_ota_get_online_sub_firm_info</a> (uhsd_u8 *buff, uhsd_u16 len, <a class="el" href="group__grp__uhsdfota.html#gac8637fda45ffe546e7747e22f5324b9d">uhsd_ota_online_whole_base_info_t</a> *base_info, <a class="el" href="structuhsd__ota__online__whole__desc__info.html">uhsd_ota_online_whole_desc_info_t</a> *desc_info, <a class="el" href="structuhsd__ota__online__sub__firm__info.html">uhsd_ota_online_sub_firm_info_t</a> sub_desc_list[])</td></tr>
<tr class="memdesc:gaea30c00c19d3fe5910642323e9e0a695"><td class="mdescLeft">&#160;</td><td class="mdescRight">在线打包格式固件包，子固件描述信息列表  <br /></td></tr>
<tr class="separator:gaea30c00c19d3fe5910642323e9e0a695"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1383407401dd2715b4c793b6a9c9224" id="r_gac1383407401dd2715b4c793b6a9c9224"><td class="memItemLeft" align="right" valign="top"><a id="gac1383407401dd2715b4c793b6a9c9224" name="gac1383407401dd2715b4c793b6a9c9224"></a>
UHSD_API uhsd_s32&#160;</td><td class="memItemRight" valign="bottom"><b>uhsd_set_ota_download_progress_notify_cb</b> (uhsd_ota_download_progress_notify cb)</td></tr>
<tr class="memdesc:gac1383407401dd2715b4c793b6a9c9224"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置ota下载进度通知进度回调函数 <br /></td></tr>
<tr class="separator:gac1383407401dd2715b4c793b6a9c9224"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga71c8a2e0479252e0441a9bfce8bc2e8f" id="r_ga71c8a2e0479252e0441a9bfce8bc2e8f"><td class="memItemLeft" align="right" valign="top">UHSD_API uhsd_void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__uhsdfota.html#ga71c8a2e0479252e0441a9bfce8bc2e8f">uhsd_set_ota_download_auto_update</a> (uhsd_s32 is_auto_update)</td></tr>
<tr class="memdesc:ga71c8a2e0479252e0441a9bfce8bc2e8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置ota下载完成后是否自动更新,此接口仅在查询固件 <a class="el" href="structuhsd__ota__version__qry__ack__t.html">uhsd_ota_version_qry_ack_t</a> 中task_type=2为大固件模式下有效  <br /></td></tr>
<tr class="separator:ga71c8a2e0479252e0441a9bfce8bc2e8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1a21df0e8aa4ff62ff86fb7f2d271a6" id="r_gad1a21df0e8aa4ff62ff86fb7f2d271a6"><td class="memItemLeft" align="right" valign="top"><a id="gad1a21df0e8aa4ff62ff86fb7f2d271a6" name="gad1a21df0e8aa4ff62ff86fb7f2d271a6"></a>
UHSD_API uhsd_s32&#160;</td><td class="memItemRight" valign="bottom"><b>uhsd_ota_big_firm_confirm_update_req</b> (ota_confirm_updae_cb comfirm_cb, uhsd_void *user_data)</td></tr>
<tr class="separator:gad1a21df0e8aa4ff62ff86fb7f2d271a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<p>FOTA功能 </p>
<dl class="section author"><dt>作者</dt><dd>hudx (<a href="#" onclick="location.href='mai'+'lto:'+'hud'+'in'+'gxu'+'an'+'.xi'+'an'+'@ha'+'ie'+'r.c'+'om'; return false;">hudin<span class="obfuscator">.nosp@m.</span>gxua<span class="obfuscator">.nosp@m.</span>n.xia<span class="obfuscator">.nosp@m.</span>n@ha<span class="obfuscator">.nosp@m.</span>ier.c<span class="obfuscator">.nosp@m.</span>om</a>) </dd></dl>
<dl class="section version"><dt>版本</dt><dd>0.1 </dd></dl>
<dl class="section date"><dt>日期</dt><dd>2022-08-03</dd></dl>
<p>设备的版本信息需要通过设备管理接口进行注册。 只有通过设备管理注册了设备版本后，才可以支持OTA功能。 </p><pre class="fragment">* 名词解释：
* UHSD = U+ Home SmartDevice
* DEVAPP = 设备APP 用户基于SmartDevice开发的应用程序。
* </pre><dl class="section copyright"><dt>版权所有</dt><dd>Copyright (c) 2021, Haier.Co, Ltd. </dd></dl>
<h2 class="groupheader">类型定义说明</h2>
<a id="ga2cd17ba27c5586e70f692b522b8814ed" name="ga2cd17ba27c5586e70f692b522b8814ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2cd17ba27c5586e70f692b522b8814ed">&#9670;&#160;</a></span>uhsd_ota_evt_func_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uhsd_s32(* uhsd_ota_evt_func_cb) (const <a class="el" href="struct__uhsd__evt__.html">uhsd_evt_t</a> *evt, void *userdata)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>函数指针，用户通过注册此函数获取OTA事件通知。 </p>
<p>SDSDK=&gt;DEVAPP </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">evt</td><td>OTA事件。 </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">userdata</td><td>用户通过 <a class="el" href="group__grp__uhsdfota.html#ga123b7631142cfaa8a4a30f533ac8627a">uhsd_ota_evt_register</a> 注册的用户数据。</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>signed int true: accepted ； false： an err occured. </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>接受事件。 </td></tr>
    <tr><td class="paramname">-1</td><td>发生错误，拒绝该事件。</td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>注意</dt><dd>当返回false后，SDK会自动停止本次升级任务。 </dd></dl>

</div>
</div>
<h2 class="groupheader">枚举类型说明</h2>
<a id="gad3414abad484d5592bb8a618c47d5e24" name="gad3414abad484d5592bb8a618c47d5e24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad3414abad484d5592bb8a618c47d5e24">&#9670;&#160;</a></span>UHSD_OTA_ERROR_E</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__grp__uhsdfota.html#gad3414abad484d5592bb8a618c47d5e24">UHSD_OTA_ERROR_E</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>通用OTA错误码 </p>
<table class="fieldtable">
<tr><th colspan="2">枚举值</th></tr><tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24aac58ee6add1ee85d52dce69627d42b5b" name="ggad3414abad484d5592bb8a618c47d5e24aac58ee6add1ee85d52dce69627d42b5b"></a>UHSD_OTA_ERROR_OK&#160;</td><td class="fielddoc"><p>成功 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24aaf594a561149edc5e6641163d06ffbb6" name="ggad3414abad484d5592bb8a618c47d5e24aaf594a561149edc5e6641163d06ffbb6"></a>UHSD_OTA_ERROR_OTHER&#160;</td><td class="fielddoc"><p>其它错误 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24a7e19b9dc81a62290efbecd4808af1d30" name="ggad3414abad484d5592bb8a618c47d5e24a7e19b9dc81a62290efbecd4808af1d30"></a>UHSD_OTA_ERROR_CONTENT_VALIDATION_FAILURE&#160;</td><td class="fielddoc"><p>内容校验失败（如OTA升级包（整包）md5校验失败） </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24a70ded6ffb5f719020b362da13a3f4323" name="ggad3414abad484d5592bb8a618c47d5e24a70ded6ffb5f719020b362da13a3f4323"></a>UHSD_OTA_ERROR_ILLEGAL_CONTENT&#160;</td><td class="fielddoc"><p>非法的内容（如OTA升级包与目标平台、硬件不匹配；如更改远程域名时，域名或IP格式不合法） </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24a57800ad4b43e7544d03d054c77878111" name="ggad3414abad484d5592bb8a618c47d5e24a57800ad4b43e7544d03d054c77878111"></a>UHSD_OTA_ERROR_ENTITY_TOO_LARGE&#160;</td><td class="fielddoc"><p>请求实体过大（如OTA升级包大小） </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24a6b981c00d7ddfa8140d6d2ff3329cef3" name="ggad3414abad484d5592bb8a618c47d5e24a6b981c00d7ddfa8140d6d2ff3329cef3"></a>UHSD_OTA_ERROR_RESOURCE_NOT_AVAILABLE&#160;</td><td class="fielddoc"><p>资源不可用（如OTA URL推送升级中的URL获取失败） </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24a389945034fccb4839682853153558e8a" name="ggad3414abad484d5592bb8a618c47d5e24a389945034fccb4839682853153558e8a"></a>UHSD_OTA_ERROR_INCOMPLETE_CONTENT&#160;</td><td class="fielddoc"><p>不完整的内容（如OTA升级包接收数据长度不够或接收中断失败） </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24a618ca9d60384e280a007411280b568f1" name="ggad3414abad484d5592bb8a618c47d5e24a618ca9d60384e280a007411280b568f1"></a>UHSD_OTA_ERROR_DEVICE_BASEBOARD_UPGRADING&#160;</td><td class="fielddoc"><p>设备底板升级中，无法响应请求 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24aacb0d29694d74a2fcc87da39a0753696" name="ggad3414abad484d5592bb8a618c47d5e24aacb0d29694d74a2fcc87da39a0753696"></a>UHSD_OTA_ERROR_DEVICE_BASEBORAD_NOT_IN_SERVICE&#160;</td><td class="fielddoc"><p>设备底板出现故障，无法响应请求 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24ae24d6bae2b63cee00cb83a60233246b8" name="ggad3414abad484d5592bb8a618c47d5e24ae24d6bae2b63cee00cb83a60233246b8"></a>UHSD_OTA_ERROR_DEVICE_MODULE_UPGRADING&#160;</td><td class="fielddoc"><p>设备网络模块升级中，无法响应请求 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24a87a8e714c0858d52dcd55121569452fb" name="ggad3414abad484d5592bb8a618c47d5e24a87a8e714c0858d52dcd55121569452fb"></a>UHSD_OTA_ERROR_INVALID_UPGRADE_SN&#160;</td><td class="fielddoc"><p>无效升级内容请求（即请求升级内容时UPGRADE_SN错误） </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24a7dd2c24d481de5a5d3f6f943161073c1" name="ggad3414abad484d5592bb8a618c47d5e24a7dd2c24d481de5a5d3f6f943161073c1"></a>UHSD_OTA_ERROR_BOUNDARY&#160;</td><td class="fielddoc"><p>升级内容请求偏移量越界 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24ab1b48e6bb7af75ea07a96579dbc12a89" name="ggad3414abad484d5592bb8a618c47d5e24ab1b48e6bb7af75ea07a96579dbc12a89"></a>UHSD_OTA_ERROR_CURRENT_UPGRADING&#160;</td><td class="fielddoc"><p>当前升级中，无法再次下发升级指令 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24af9b7f69d09b4a95eedb72dbfe8611975" name="ggad3414abad484d5592bb8a618c47d5e24af9b7f69d09b4a95eedb72dbfe8611975"></a>UHSD_OTA_ERROR_FRAGMENT_VALIDATION_FAILURE&#160;</td><td class="fielddoc"><p>升级数据（分片后）的校验和错误 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24ae6ec7077b0f983dcfd301abddac0d6fe" name="ggad3414abad484d5592bb8a618c47d5e24ae6ec7077b0f983dcfd301abddac0d6fe"></a>UHSD_OTA_ERROR_BASEBOARD_FILE_SIZE&#160;</td><td class="fielddoc"><p>底板升级文件大小超出范围 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24ad3f7fedb2b5c7a05b28fb5651292610c" name="ggad3414abad484d5592bb8a618c47d5e24ad3f7fedb2b5c7a05b28fb5651292610c"></a>UHSD_OTA_ERROR_DIGEST_MISMATCH&#160;</td><td class="fielddoc"><p>底板固件升级包摘要信息校验失败 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24a2e318060e0ddfe80d86bb2de457e3509" name="ggad3414abad484d5592bb8a618c47d5e24a2e318060e0ddfe80d86bb2de457e3509"></a>UHSD_OTA_ERROR_UPDATE_TIMESUP&#160;</td><td class="fielddoc"><p>规定时间内升级失败（只在本地升级中出现） </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24a3ed0b40bdef9e603e582fb58f962c6ad" name="ggad3414abad484d5592bb8a618c47d5e24a3ed0b40bdef9e603e582fb58f962c6ad"></a>UHSD_OTA_ERROR_BASEBOARD_REJECT&#160;</td><td class="fielddoc"><p>底板指示不能升级 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24aec747a8252d07a6c97cfdbeeb0d05c69" name="ggad3414abad484d5592bb8a618c47d5e24aec747a8252d07a6c97cfdbeeb0d05c69"></a>UHSD_OTA_ERROR_BASEBOARD_FAIL&#160;</td><td class="fielddoc"><p>底板指示升级失败 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24a87f041d67bb74a316b57cc08ba3ef9ee" name="ggad3414abad484d5592bb8a618c47d5e24a87f041d67bb74a316b57cc08ba3ef9ee"></a>UHSD_OTA_ERROR_BLE_CONFIGING&#160;</td><td class="fielddoc"><p>BLE配置错误 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24aa978f5da6052f75529b4793562a4ce82" name="ggad3414abad484d5592bb8a618c47d5e24aa978f5da6052f75529b4793562a4ce82"></a>UHSD_OTA_ERROR_DEVICE_RESOURCE_INSUFFICIENT&#160;</td><td class="fielddoc"><p>模块因资源不足导致本次升级中止 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24afa76c97d8d80a704b9b465a9ec37e9ac" name="ggad3414abad484d5592bb8a618c47d5e24afa76c97d8d80a704b9b465a9ec37e9ac"></a>UHSD_OTA_ERROR_DEVICE_UPGRADE_TIMEOUT&#160;</td><td class="fielddoc"><p>设备执行升级时，升级超时(低功耗类设备) </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24a4fc3d9b2614775c06102fcd7b648b5ed" name="ggad3414abad484d5592bb8a618c47d5e24a4fc3d9b2614775c06102fcd7b648b5ed"></a>UHSD_OTA_ERROR_DEVICE_LOW_BATTERY&#160;</td><td class="fielddoc"><p>设备升级时，设备电池电量低。 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24ac2f9a87a1d1052af91e25e9a83eb277f" name="ggad3414abad484d5592bb8a618c47d5e24ac2f9a87a1d1052af91e25e9a83eb277f"></a>UHSD_OTA_ERROR_INTERNAL_UPGRADE_VER_SAME&#160;</td><td class="fielddoc"><p>固件版本相同（内部错误字），升级通道需要对齐做相应的转换 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad3414abad484d5592bb8a618c47d5e24a1213dbc9c63385d1fb266df4f502b1b0" name="ggad3414abad484d5592bb8a618c47d5e24a1213dbc9c63385d1fb266df4f502b1b0"></a>UHSD_OTA_ERROR_INTERNAL_UPGRADE_VER_TOO_LOW&#160;</td><td class="fielddoc"><p>固件版本过低（内部错误字），升级通道需要对齐做相应的转换 </p>
</td></tr>
</table>

</div>
</div>
<a id="ga62ebe91278000bb7beee52d0cf367cce" name="ga62ebe91278000bb7beee52d0cf367cce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga62ebe91278000bb7beee52d0cf367cce">&#9670;&#160;</a></span>UHSD_OTA_EVT_E</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__grp__uhsdfota.html#ga62ebe91278000bb7beee52d0cf367cce">UHSD_OTA_EVT_E</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SmartDevice通知设备APP OTA事件。 SD_SDK =&gt; DEVAPP </p>
<table class="fieldtable">
<tr><th colspan="2">枚举值</th></tr><tr><td class="fieldname"><a id="gga62ebe91278000bb7beee52d0cf367ccea72399ca41307a524294c4032cfca63fb" name="gga62ebe91278000bb7beee52d0cf367ccea72399ca41307a524294c4032cfca63fb"></a>UHSD_OTA_EVT_REQ&#160;</td><td class="fielddoc"><p>SmartDevice 收到了设备OTA命令，向设备APP发送请求事件。 设备APP使用 <a class="el" href="group__grp__uhsdfota.html#ga53edfdbafdcbc68b6ce0fade34bcb9bb">uhsd_ota_notify_req_result</a> 接口通知SmartDevice当前OTA请求结果。 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga62ebe91278000bb7beee52d0cf367ccea3bd1ca4204c19a6d9ca3a2b38801c68c" name="gga62ebe91278000bb7beee52d0cf367ccea3bd1ca4204c19a6d9ca3a2b38801c68c"></a>UHSD_OTA_EVT_FIRM_READY&#160;</td><td class="fielddoc"><p>SmartDevice 通知设备APP发送固件准备就绪，并将固件信息报给APP。 uhsd_ota_evt_firm_info_t </p>
</td></tr>
<tr><td class="fieldname"><a id="gga62ebe91278000bb7beee52d0cf367ccea46fd904137f3957d73972663749e19cb" name="gga62ebe91278000bb7beee52d0cf367ccea46fd904137f3957d73972663749e19cb"></a>UHSD_OTA_EVT_SECTION_FIRM_DOWNLOAD_FINISH&#160;</td><td class="fielddoc"><p>SmartDevice 通知设备APP固件分段请求下载完成。 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga62ebe91278000bb7beee52d0cf367ccea5f90750d9f4b6a39d15f70bd1d6148bc" name="gga62ebe91278000bb7beee52d0cf367ccea5f90750d9f4b6a39d15f70bd1d6148bc"></a>UHSD_OTA_EVT_UPDATE_NEED_CONFIRM_FIRM&#160;</td><td class="fielddoc"><p>SmartDevice 通知设备APP大固件升级需要确认。 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga62ebe91278000bb7beee52d0cf367ccea6099429797288f34e891f9c536568cf1" name="gga62ebe91278000bb7beee52d0cf367ccea6099429797288f34e891f9c536568cf1"></a>UHSD_OTA_EVT_CONFIRM_FIRM_UPDATE_VALIID&#160;</td><td class="fielddoc"><p>SmartDevice 通知设备APP大固件确认升级有效。 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga62ebe91278000bb7beee52d0cf367ccea99f8d846f8fc431d9c0831cb97945879" name="gga62ebe91278000bb7beee52d0cf367ccea99f8d846f8fc431d9c0831cb97945879"></a>UHSD_OTA_EVT_EXCEPTION_OCCURED&#160;</td><td class="fielddoc"><p>OTA异常终止。 <a class="el" href="structuhsd__ota__evt__exception__t.html">uhsd_ota_evt_exception_t</a> </p>
<p>OTA过程中，SmartDevice如有任何OTA异常，均通过此事件告知设备APP。 </p>
</td></tr>
</table>

</div>
</div>
<a id="gaced32dcd130535d859b824a7adc63505" name="gaced32dcd130535d859b824a7adc63505"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaced32dcd130535d859b824a7adc63505">&#9670;&#160;</a></span>UHSD_OTA_PKG_SRC_E</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__grp__uhsdfota.html#gaced32dcd130535d859b824a7adc63505">UHSD_OTA_PKG_SRC_E</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>包来源 </p>
<table class="fieldtable">
<tr><th colspan="2">枚举值</th></tr><tr><td class="fieldname"><a id="ggaced32dcd130535d859b824a7adc63505a06365e4827330a793be05c2b4c404fd0" name="ggaced32dcd130535d859b824a7adc63505a06365e4827330a793be05c2b4c404fd0"></a>UHSD_OTA_PKG_LOCAL&#160;</td><td class="fielddoc"><p>用户本地自定义格式的固件包，通过海极网本地上传功能上传。 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaced32dcd130535d859b824a7adc63505a6de9070130afe0bfb002280a0f814977" name="ggaced32dcd130535d859b824a7adc63505a6de9070130afe0bfb002280a0f814977"></a>UHSD_OTA_PKG_ONLINE&#160;</td><td class="fielddoc"><p>海极网在线打包工具生成的升级固件包。 </p>
</td></tr>
</table>

</div>
</div>
<a id="ga112d41f6fec5bb519e1205f6ea1b0cd7" name="ga112d41f6fec5bb519e1205f6ea1b0cd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga112d41f6fec5bb519e1205f6ea1b0cd7">&#9670;&#160;</a></span>UHSD_OTA_REQ_RESULT_E</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__grp__uhsdfota.html#ga112d41f6fec5bb519e1205f6ea1b0cd7">UHSD_OTA_REQ_RESULT_E</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>请求结果通知类型。 uhsd_ota_notify_req_result_t </p>
<table class="fieldtable">
<tr><th colspan="2">枚举值</th></tr><tr><td class="fieldname"><a id="gga112d41f6fec5bb519e1205f6ea1b0cd7ab0871295502452575c9a3127210186b4" name="gga112d41f6fec5bb519e1205f6ea1b0cd7ab0871295502452575c9a3127210186b4"></a>UHSD_OTA_REQ_RESULT_NOT_ALLOW&#160;</td><td class="fielddoc"><p>不允许升级 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga112d41f6fec5bb519e1205f6ea1b0cd7aa6a3374914f3280b2c089852ba145e75" name="gga112d41f6fec5bb519e1205f6ea1b0cd7aa6a3374914f3280b2c089852ba145e75"></a>UHSD_OTA_REQ_RESULT_LATER&#160;</td><td class="fielddoc"><p>延迟升级 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga112d41f6fec5bb519e1205f6ea1b0cd7aadcd7868d33981eab1f7dd15686f3e68" name="gga112d41f6fec5bb519e1205f6ea1b0cd7aadcd7868d33981eab1f7dd15686f3e68"></a>UHSD_OTA_REQ_RESULT_ALLOW&#160;</td><td class="fielddoc"><p>允许升级 </p>
</td></tr>
</table>

</div>
</div>
<a id="gaf6524ed12e57736caac0a20ff7bc20fa" name="gaf6524ed12e57736caac0a20ff7bc20fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf6524ed12e57736caac0a20ff7bc20fa">&#9670;&#160;</a></span>UHSD_OTA_UPGRADE_DST_E</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__grp__uhsdfota.html#gaf6524ed12e57736caac0a20ff7bc20fa">UHSD_OTA_UPGRADE_DST_E</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>升级包所对应的升级目标 </p>
<table class="fieldtable">
<tr><th colspan="2">枚举值</th></tr><tr><td class="fieldname"><a id="ggaf6524ed12e57736caac0a20ff7bc20faac3731db17607c6ae6e85bd3c44f1c2a2" name="ggaf6524ed12e57736caac0a20ff7bc20faac3731db17607c6ae6e85bd3c44f1c2a2"></a>UHSD_OTA_UPGRADE_DST_WHOLE&#160;</td><td class="fielddoc"><p>升级设备整机固件。 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaf6524ed12e57736caac0a20ff7bc20faa6eab9752265bf95eb160b427b316710c" name="ggaf6524ed12e57736caac0a20ff7bc20faa6eab9752265bf95eb160b427b316710c"></a>UHSD_OTA_UPGRADE_DST_WIFI_MODULE&#160;</td><td class="fielddoc"><p>升级WIFI模块。 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaf6524ed12e57736caac0a20ff7bc20faabf9fbb86936b0fd330595b97a7d0cdac" name="ggaf6524ed12e57736caac0a20ff7bc20faabf9fbb86936b0fd330595b97a7d0cdac"></a>UHSD_OTA_UPGRADE_DST_VOICE&#160;</td><td class="fielddoc"><p>升级语音模块。 </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">函数说明</h2>
<a id="gad781326371528591a06259ccbda73112" name="gad781326371528591a06259ccbda73112"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad781326371528591a06259ccbda73112">&#9670;&#160;</a></span>uhsd_ota_download_section_firm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UHSD_API uhsd_s32 uhsd_ota_download_section_firm </td>
          <td>(</td>
          <td class="paramtype">uhsd_u32&#160;</td>
          <td class="paramname"><em>upgrade_sn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uhsd_u32&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uhsd_u32&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>分段固件下载 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">upgrade_sn</td><td></td></tr>
    <tr><td class="paramname">offset：在整个固件包的偏移地址</td><td></td></tr>
    <tr><td class="paramname">len：分段下载的固件大小</td><td></td></tr>
    <tr><td class="paramname">userdata：用户自定义数据，在下载结束后，事件回调参数中返回；</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>成功 </td></tr>
    <tr><td class="paramname">others</td><td>失败 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga123b7631142cfaa8a4a30f533ac8627a" name="ga123b7631142cfaa8a4a30f533ac8627a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga123b7631142cfaa8a4a30f533ac8627a">&#9670;&#160;</a></span>uhsd_ota_evt_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UHSD_API uhsd_s32 uhsd_ota_evt_register </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__grp__uhsdfota.html#ga2cd17ba27c5586e70f692b522b8814ed">uhsd_ota_evt_func_cb</a>&#160;</td>
          <td class="paramname"><em>func_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA事件注册函数。 </p>
<dl class="section note"><dt>注解</dt><dd>注册后，将收到终端向本设备推送的OTA事件。 <a class="el" href="group__grp__uhsdfota.html#ga62ebe91278000bb7beee52d0cf367cce">UHSD_OTA_EVT_E</a></dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">func_cb</td><td>回调函数，用于接收OTA事件. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">userdata</td><td>用户自定义数据。随回调函数传递回给用户处理。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>uhsd_s32 </dd></dl>

</div>
</div>
<a id="gaea30c00c19d3fe5910642323e9e0a695" name="gaea30c00c19d3fe5910642323e9e0a695"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaea30c00c19d3fe5910642323e9e0a695">&#9670;&#160;</a></span>uhsd_ota_get_online_sub_firm_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UHSD_API uhsd_s32 uhsd_ota_get_online_sub_firm_info </td>
          <td>(</td>
          <td class="paramtype">uhsd_u8 *&#160;</td>
          <td class="paramname"><em>buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uhsd_u16&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__grp__uhsdfota.html#gac8637fda45ffe546e7747e22f5324b9d">uhsd_ota_online_whole_base_info_t</a> *&#160;</td>
          <td class="paramname"><em>base_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structuhsd__ota__online__whole__desc__info.html">uhsd_ota_online_whole_desc_info_t</a> *&#160;</td>
          <td class="paramname"><em>desc_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structuhsd__ota__online__sub__firm__info.html">uhsd_ota_online_sub_firm_info_t</a>&#160;</td>
          <td class="paramname"><em>sub_desc_list</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在线打包格式固件包，子固件描述信息列表 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">buff</td><td>需要解析的数据 </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">len</td><td>需要解析的数据长度，固定值 desc_info-&gt;sub_firm_count * 128字节 </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">sub_desc_list</td><td>用户申请 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>uhsd_s32 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>成功 </td></tr>
    <tr><td class="paramname">others</td><td>失败 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga09220012cb6ba200dce2a922d5cd805d" name="ga09220012cb6ba200dce2a922d5cd805d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga09220012cb6ba200dce2a922d5cd805d">&#9670;&#160;</a></span>uhsd_ota_get_online_whole_base_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UHSD_API uhsd_s32 uhsd_ota_get_online_whole_base_info </td>
          <td>(</td>
          <td class="paramtype">uhsd_u8 *&#160;</td>
          <td class="paramname"><em>buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uhsd_u16&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__grp__uhsdfota.html#gac8637fda45ffe546e7747e22f5324b9d">uhsd_ota_online_whole_base_info_t</a> *&#160;</td>
          <td class="paramname"><em>base_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在线打包格式包基本信息获取 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">buff</td><td>需要解析的数据 </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">len</td><td>需要解析的数据长度，固定值64字节 </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">base_info</td><td>获取基本信息 用户申请 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>uhsd_s32 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>成功 </td></tr>
    <tr><td class="paramname">others</td><td>失败 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga4499987ceafe09e91b99c36ab9bc57b6" name="ga4499987ceafe09e91b99c36ab9bc57b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4499987ceafe09e91b99c36ab9bc57b6">&#9670;&#160;</a></span>uhsd_ota_get_online_whole_desc_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UHSD_API uhsd_s32 uhsd_ota_get_online_whole_desc_info </td>
          <td>(</td>
          <td class="paramtype">uhsd_u8 *&#160;</td>
          <td class="paramname"><em>buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uhsd_u16&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structuhsd__ota__online__whole__desc__info.html">uhsd_ota_online_whole_desc_info_t</a> *&#160;</td>
          <td class="paramname"><em>desc_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在线打包格式固件描述信息 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">buff</td><td>需要解析的数据 </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">len</td><td>需要解析的数据长度，固定值128字节 </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">desc_info</td><td>获取描述信息 用户申请 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>uhsd_s32 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>成功 </td></tr>
    <tr><td class="paramname">others</td><td>失败 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga53edfdbafdcbc68b6ce0fade34bcb9bb" name="ga53edfdbafdcbc68b6ce0fade34bcb9bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga53edfdbafdcbc68b6ce0fade34bcb9bb">&#9670;&#160;</a></span>uhsd_ota_notify_req_result()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UHSD_API void uhsd_ota_notify_req_result </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__grp__uhsdfota.html#ga112d41f6fec5bb519e1205f6ea1b0cd7">UHSD_OTA_REQ_RESULT_E</a>&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>通知SDK升级请求结果 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">result：升级请求结果</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga575f0e53b5b59e8edb82896dcc5b8dae" name="ga575f0e53b5b59e8edb82896dcc5b8dae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga575f0e53b5b59e8edb82896dcc5b8dae">&#9670;&#160;</a></span>uhsd_ota_notify_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UHSD_API uhsd_s32 uhsd_ota_notify_start </td>
          <td>(</td>
          <td class="paramtype">uhsd_u32&#160;</td>
          <td class="paramname"><em>upgrade_sn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>通知SDK升级开始升级 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">upgrade_sn</td><td>升级序列号， 来源 <a class="el" href="group__grp__uhsdfota.html#ga2ca0d365e2643c32faec734d8f368ba9">uhsd_ota_version_qry</a> <a class="el" href="structuhsd__ota__version__qry__ack__t.html">uhsd_ota_version_qry_ack_t</a> uhsd_ota_evt_firm_info_t upgrade_sn </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>uhsd_s32 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>成功 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga18512ceecb4a2d6c207a626f04423dff" name="ga18512ceecb4a2d6c207a626f04423dff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga18512ceecb4a2d6c207a626f04423dff">&#9670;&#160;</a></span>uhsd_ota_notify_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UHSD_API uhsd_s32 uhsd_ota_notify_stop </td>
          <td>(</td>
          <td class="paramtype">uhsd_u32&#160;</td>
          <td class="paramname"><em>upgrade_sn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uhsd_s32&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>通知SDK结束整个升级流程 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">upgrade_sn</td><td></td></tr>
    <tr><td class="paramname">error：错误码</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga12aff091947a0e1dedd0e4a49fce35b1" name="ga12aff091947a0e1dedd0e4a49fce35b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga12aff091947a0e1dedd0e4a49fce35b1">&#9670;&#160;</a></span>uhsd_ota_operation_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UHSD_API uhsd_s32 uhsd_ota_operation_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__uhsd__operation__.html">uhsd_ota_operation_t</a>&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>def_param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SmartDevice操作接口设置。 </p>
<dl class="section note"><dt>注解</dt><dd>SmartDevice可以使用用户提供的接口实现对系统的操作。</dd></dl>
<pre class="fragment">* opt.firmware_get_cb：OTA 固件获取接口。 设备APP实现该功能并注册至SmartDevice，SmartDevice可使用该接口获取已下载的固件包。
* </pre><p> <a class="el" href="group__grp__uhsdfota.html#ga62ebe91278000bb7beee52d0cf367cce">UHSD_OTA_EVT_E</a></p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">opt</td><td>操作类接口集合. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">def_param</td><td>保留数据。SmartDeviceSDK自定义数据。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>uhsd_s32 </dd></dl>

</div>
</div>
<a id="ga107f7a8d0211c5484b4560a42c76edb0" name="ga107f7a8d0211c5484b4560a42c76edb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga107f7a8d0211c5484b4560a42c76edb0">&#9670;&#160;</a></span>uhsd_ota_upgrade_status_rpt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UHSD_API uhsd_s32 uhsd_ota_upgrade_status_rpt </td>
          <td>(</td>
          <td class="paramtype">uhsd_u32&#160;</td>
          <td class="paramname"><em>upgrade_sn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__grp__uhsdfota.html#ga7beee17c9b1e741e7dcb4e9ce4e6bd4c">UHSD_OTA_UPGRADE_STATUS_E</a>&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uhsd_bool&#160;</td>
          <td class="paramname"><em>download_complete</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ota升级状态上报 </p>
<p>设备ota状态上报 需要调用此接口通知SmartDevice。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">upgrade_sn</td><td>升级时使用的sn </td></tr>
    <tr><td class="paramname">status</td><td>参考枚举定义 </td></tr>
    <tr><td class="paramname">download_complete</td><td>对于SDK来讲，暂时无特殊意义，对于底板升级，需要根据实际情况来填写 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>uhsd_s32 </dd></dl>
<dl class="section attention"><dt>注意</dt><dd>设备APP下载固件的状态，则必须调用此接口通知SmartDevice，否则会导致升级状态异常。 </dd></dl>

</div>
</div>
<a id="ga2ca0d365e2643c32faec734d8f368ba9" name="ga2ca0d365e2643c32faec734d8f368ba9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2ca0d365e2643c32faec734d8f368ba9">&#9670;&#160;</a></span>uhsd_ota_version_qry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UHSD_API uhsd_s32 uhsd_ota_version_qry </td>
          <td>(</td>
          <td class="paramtype">ota_version_qry_cb&#160;</td>
          <td class="paramname"><em>qry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uhsd_void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>查询可升级的版本信息 </p>
<p>当设备APP在云端部署OTA任务，选择手动升级后，则可以调用此接口向云端查询是否有可升级的版本信息。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ota_version_qry_cb</td><td>查询OTA版本回调。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">用户自定义数据。</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>uhsd_s32 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>成功</td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>注意</dt><dd>当ota_version_qry_cb的err_num为0时，qry_ack有效；否则，为空参数，不可使用。 </dd></dl>

</div>
</div>
<a id="ga71c8a2e0479252e0441a9bfce8bc2e8f" name="ga71c8a2e0479252e0441a9bfce8bc2e8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga71c8a2e0479252e0441a9bfce8bc2e8f">&#9670;&#160;</a></span>uhsd_set_ota_download_auto_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UHSD_API uhsd_void uhsd_set_ota_download_auto_update </td>
          <td>(</td>
          <td class="paramtype">uhsd_s32&#160;</td>
          <td class="paramname"><em>is_auto_update</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置ota下载完成后是否自动更新,此接口仅在查询固件 <a class="el" href="structuhsd__ota__version__qry__ack__t.html">uhsd_ota_version_qry_ack_t</a> 中task_type=2为大固件模式下有效 </p>
<p>注意：此接口要在下载固件固件前调用 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">is_auto_update</td><td>是否自动更新，0：否，1：是 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
